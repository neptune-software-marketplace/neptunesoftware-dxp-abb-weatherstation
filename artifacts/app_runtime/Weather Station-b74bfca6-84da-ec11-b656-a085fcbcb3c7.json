{
	"id": "b74bfca6-84da-ec11-b656-a085fcbcb3c7",
	"createdAt": "2022-05-23T10:42:27.443Z",
	"createdBy": "luuk",
	"objects": [
		{
			"fieldNo": "8e4834c1-abaf-451c-859f-7069ee00b563",
			"fieldName": "oShell",
			"fieldParent": 0,
			"fieldType": "sap.m.Shell",
			"script": "",
			"customComponent": false,
			"request": [],
			"response": [],
			"attributes": [],
			"data": [
				{
					"fieldNo": "80e08d9b-96ab-4083-9f20-ac1ff96c2951",
					"fieldName": "oApp",
					"fieldParent": "8e4834c1-abaf-451c-859f-7069ee00b563",
					"fieldType": "sap.m.App",
					"script": "",
					"customComponent": false,
					"request": [],
					"response": [],
					"attributes": [],
					"data": [
						{
							"fieldNo": "88c2b32d-8079-4244-b4f2-1522b0a71bf9",
							"fieldName": "oPage",
							"fieldParent": "80e08d9b-96ab-4083-9f20-ac1ff96c2951",
							"fieldType": "sap.m.Page",
							"script": "",
							"customComponent": false,
							"request": [],
							"response": [],
							"attributes": [],
							"data": [
								{
									"fieldNo": "7b988592-c03a-4317-a113-19ed46b11c37",
									"fieldName": "hbxMap",
									"fieldParent": "88c2b32d-8079-4244-b4f2-1522b0a71bf9",
									"fieldType": "sap.m.HBox",
									"script": "",
									"customComponent": false,
									"request": [],
									"response": [],
									"attributes": [
										{
											"attribute": "width",
											"grouping": "Properties",
											"value": "100%",
											"script": "",
											"translation": []
										},
										{
											"attribute": "height",
											"grouping": "Properties",
											"value": "100%",
											"script": "",
											"translation": []
										}
									],
									"data": []
								}
							]
						}
					]
				}
			]
		},
		{
			"fieldNo": 99999,
			"data": [
				{
					"fieldNo": "225cccfa-c04e-495e-ac4f-78bbc422ef09",
					"fieldName": "README",
					"fieldParent": 99999,
					"fieldType": "neptune.Text",
					"script": [
						"==OBJECT STRING==",
						"Include library in the header:",
						"",
						"<meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1, user-scalable=no\" />",
						"<link rel=\"stylesheet\" href=\"https://js.arcgis.com/4.23/esri/themes/light/main.css\">",
						"<script src=\"https://js.arcgis.com/4.23/\"></script>",
						"",
						"",
						"CSS to include: ",
						"",
						".esri-popup__content img {",
						"    height: 4.3rem;",
						"    margin-left: 15rem;",
						"    margin-top: -4rem;",
						"    position: relative;",
						"    box-sizing: inherit;",
						"}",
						"",
						""
					],
					"customComponent": false,
					"request": [],
					"response": [],
					"attributes": [],
					"data": []
				},
				{
					"fieldNo": "d5dfabdc-01a2-4bd4-c7fe-d819432be4da",
					"fieldName": "oRestAPIAmsterdamWeather",
					"fieldParent": 99999,
					"fieldType": "neptune.restapi",
					"script": "",
					"customComponent": false,
					"restSource": "EDB931F6-7FDA-EC11-B656-A085FCBCB3C7",
					"restOperation": "587E7835-AFBD-42DD-FFC7-3C9B02D6CAF4",
					"request": [],
					"response": [],
					"attributes": [
						{
							"attribute": "setInitLoad",
							"grouping": "Model",
							"value": "online",
							"script": "",
							"translation": []
						},
						{
							"attribute": "ajaxSuccess",
							"grouping": "Events",
							"value": "Anonymous Function",
							"script": [
								"==OBJECT STRING==",
								"var responseData = JSON.parse(xhr.responseText);",
								"",
								"AmsterdamWeather = responseData;",
								"",
								"var airHumidity = AmsterdamWeather.main.humidity;",
								"",
								"console.log(\"Amsterdam Weather\");",
								"console.log(AmsterdamWeather);"
							],
							"language": "javascript",
							"translation": []
						}
					],
					"data": []
				},
				{
					"fieldNo": "3544135e-ae33-4085-8e9b-48c0350e1e43",
					"fieldName": "oRestAPIDusseldorfWeather",
					"fieldParent": 99999,
					"fieldType": "neptune.restapi",
					"script": "",
					"customComponent": false,
					"restSource": "DE8CEBCD-0EDC-EC11-B656-A085FCBCB3C7",
					"restOperation": "5B7DF884-4946-4C51-CC8C-EF3637EF0423",
					"request": [],
					"response": [],
					"attributes": [
						{
							"attribute": "setInitLoad",
							"grouping": "Model",
							"value": "online",
							"script": "",
							"translation": []
						},
						{
							"attribute": "ajaxSuccess",
							"grouping": "Events",
							"value": "Anonymous Function",
							"script": [
								"==OBJECT STRING==",
								"var responseData = JSON.parse(xhr.responseText);",
								"",
								"DusseldorfWeather = responseData;",
								"",
								"console.log(\"Dusseldorf Weather\");",
								"console.log(DusseldorfWeather);"
							],
							"translation": []
						}
					],
					"data": []
				},
				{
					"fieldNo": "1c669bd1-cf50-41c5-dfae-cd814ce52833",
					"fieldName": "Map",
					"fieldParent": 99999,
					"fieldType": "neptune.Script",
					"script": [
						"==OBJECT STRING==",
						"sap.ui.getCore().attachInit(function (data) {",
						"    setTimeout(function () {",
						"",
						"        //Farm locations in longitude and latitude",
						"        var locs = [\"4.9041, 52.3676\", \"6.7735, 51.2277\"]",
						"",
						"        require([",
						"            \"esri/Map\",",
						"            \"esri/views/MapView\",",
						"            \"esri/Graphic\",",
						"            \"esri/layers/GraphicsLayer\",",
						"            \"esri/geometry/Multipoint\",",
						"            \"esri/layers/FeatureLayer\",",
						"            \"esri/geometry/Point\",",
						"            \"dojo/domReady!\"",
						"",
						"        ], function (Map, MapView, Graphic, GraphicsLayer,",
						"            Point) {",
						"",
						"",
						"            var map = new Map({",
						"                basemap: \"topo-vector\"",
						"            });",
						"",
						"            var view = new MapView({",
						"                container: hbxMap.getDomRef(),",
						"                map: map,",
						"                center: [4.9041, 52.3676], // longitude, latitude",
						"                zoom: 7",
						"            });",
						"",
						"",
						"            function weatherAmsterdam() {",
						"                //Amsterdam Weather Info",
						"                const airHumidityA = AmsterdamWeather.main.humidity;",
						"                const temperatureA = AmsterdamWeather.main.temp;",
						"                const weatherConditionsA = AmsterdamWeather.weather[0].description;",
						"                const nameA = AmsterdamWeather.name;",
						"                var img = \"\";",
						"",
						"                //Check weather condition and update the image",
						"                if (weatherConditionsA === \"clear sky\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/clear_sky.png\";",
						"",
						"                } else if (weatherConditionsA === \"few clouds\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/few_clouds.png\";",
						"",
						"                } else if (weatherConditionsA === \"scattered clouds\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/scattered_clouds.png\";",
						"",
						"                } else if (weatherConditionsA === \"broken clouds\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/broken_clouds.png\";",
						"",
						"                } else if (weatherConditionsA === \"overcast clouds\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/scattered_clouds.png\";",
						"",
						"                } else if (weatherConditionsA === \"shower rain\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/shower_rain.png\";",
						"",
						"                } else if (weatherConditionsA === \"rain\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/shower_rain.png\";",
						"",
						"                } else if (weatherConditionsA === \"thunderstorm\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/thunderstorm.png\";",
						"",
						"                } else if (weatherConditionsA === \"snow\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/snow.png\";",
						"",
						"                } else if (weatherConditionsA === \"mist\") {",
						"                    var img = \"https://portal.neptune-software.com/media/root/Hackathon/mist.png\";",
						"                }",
						"",
						"                //Weather info popup content",
						"                view.popup.content =",
						"                    nameA +",
						"                    \"<ul><li> Air humidity: \" + airHumidityA + \" %</li>\" +",
						"                    \"<li> Temperature: \" + temperatureA + \" °C</li>\" +",
						"                    \"<li> Weather condition: \" + weatherConditionsA + \"</li>\" +",
						"                    \"<img src = \" + img + \">\";",
						"",
						"                // console.log(img);",
						"                console.log(view.popup.content);",
						"",
						"",
						"            }",
						"",
						"            function weatherDusseldorf() {",
						"                //Dusseldorf Weather Info",
						"                const airHumidityD = DusseldorfWeather.main.humidity;",
						"                const temperatureD = DusseldorfWeather.main.temp;",
						"                const weatherConditionsD = DusseldorfWeather.weather[0].description;",
						"                const nameD = DusseldorfWeather.name;",
						"                var imgD = \"\";",
						"",
						"                //Check weather condition and update the image",
						"                if (weatherConditionsD === \"clear sky\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/clear_sky.png\";",
						"",
						"                } else if (weatherConditionsD === \"few clouds\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/few_clouds.png\";",
						"",
						"                } else if (weatherConditionsD === \"scattered clouds\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/scattered_clouds.png\";",
						"",
						"                } else if (weatherConditionsD === \"broken clouds\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/broken_clouds.png\";",
						"",
						"                } else if (weatherConditionsD === \"overcast clouds\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/scattered_clouds.png\";",
						"                }",
						"                else if (weatherConditionsD === \"shower rain\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/shower_rain.png\";",
						"",
						"                } else if (weatherConditionsD === \"rain\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/shower_rain.png\";",
						"",
						"                } else if (weatherConditionsD === \"thunderstorm\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/thunderstorm.png\";",
						"",
						"                } else if (weatherConditionsD === \"snow\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/snow.png\";",
						"",
						"                } else if (weatherConditionsD === \"mist\") {",
						"                    var imgD = \"https://portal.neptune-software.com/media/root/Hackathon/mist.png\";",
						"                }",
						"",
						"                //Weather info popup content",
						"                view.popup.content =",
						"                    nameD +",
						"                    \"<ul><li> Air humidity: \" + airHumidityD + \" %</li>\" +",
						"                    \"<li> Temperature: \" + temperatureD + \" °C</li>\" +",
						"                    \"<li> Weather condition: \" + weatherConditionsD + \"</li>\" +",
						"                    \"<img src = \" + imgD + \">\";",
						"            }",
						"",
						"            //Crops info popup",
						"            function cropsInfoDisplay() {",
						"                view.popup.content =",
						"                    \"Crops information\" +",
						"                    \"<ul><li> Air humidity over 80% - no watering allowed. </li>\" +",
						"                    \"<li> Air humidity under 70% - watering is allowed</li>\" +",
						"                    \"<li> Temperature over 25°C - crops must be uncovered from plastic sheets.</li>\" +",
						"                    \"<li> Temperature under 25°C - crops must be covered with plastic sheets</li>\" +",
						"                    \"<li> Rainfall in one day - no watering for 3 days.</li>\" +",
						"                    \"<li> No rainfall in one day - watering is allowed.</li>\";",
						"",
						"            }",
						"",
						"            //Create and add layer to the map",
						"            var graphicsLayer = new GraphicsLayer();",
						"            map.add(graphicsLayer);",
						"",
						"",
						"            //Loop and split the location's longitude and latitude",
						"            for (i = 0; i < locs.length; i++) {",
						"                console.log(locs[i].split(\",\")[0]);",
						"                // create a point ",
						"                var Point = {",
						"                    type: \"point\",",
						"                    longitude: locs[i].split(\",\")[0], //check if the point is longitude and change accordingly",
						"                    latitude: locs[i].split(\",\")[1] //check if the point is latitude and change accordingly",
						"",
						"                };",
						"                //Marker indicating the farm location",
						"                var simpleMarkerSymbol = {",
						"                    type: \"simple-marker\",",
						"                    color: [46, 204, 113],  // Green",
						"                    outline: {",
						"                        color: [255, 255, 255], // white",
						"                        width: 1",
						"                    }",
						"                };",
						"",
						"                //*** ADD ***//",
						"                // Create attributes",
						"                var attributes = {};",
						"                var index = i;",
						"",
						"                var weather = {};",
						"                var crops = {};",
						"",
						"",
						"                switch (index) {",
						"",
						"                    case 0:",
						"                        //execute code block 1",
						"",
						"                        weather = {",
						"                            title: \"Weather info\",",
						"                            id: \"weather-infoA\",",
						"                            image: \"https://portal.neptune-software.com/media/root/Hackathon/weather.png\"",
						"                        }",
						"",
						"                        crops = {",
						"                            title: \"Crops info\",",
						"                            id: \"crops-info\",",
						"                            image: \"https://portal.neptune-software.com/media/root/Hackathon/crops.png\"",
						"                        }",
						"                        //Weather info and crops info popup",
						"                        view.popup.on(\"trigger-action\", (event) => {",
						"                            // Execute the weatherAmsterdam() function if the weather-infoA action is clicked",
						"                            if (event.action.id === \"weather-infoA\") {",
						"                                weatherAmsterdam();",
						"                            } else if (event.action.id === \"crops-info\") {",
						"                                cropsInfoDisplay();",
						"                            }",
						"                        });",
						"                        //Main attributes",
						"                        attributes = {",
						"                            Name: \"Farm 1\",",
						"                            Location: \" Amsterdam\"",
						"                        };",
						"                        break;",
						"",
						"                    case 1:",
						"                        //execute code block 2",
						"",
						"                        weather = {",
						"                            title: \"Weather info\",",
						"                            id: \"weather-infoD\",",
						"                            image: \"https://portal.neptune-software.com/media/root/Hackathon/weather.png\"",
						"                        }",
						"",
						"                        crops = {",
						"                            title: \"Crops info\",",
						"                            id: \"crops-info\",",
						"                            image: \"https://portal.neptune-software.com/media/root/Hackathon/crops.png\"",
						"                        }",
						"                        //Weather info and crops info popup",
						"                        view.popup.on(\"trigger-action\", (event) => {",
						"                            // Execute the weatherDusseldorf() function if the weather-infoD action is clicked",
						"                            if (event.action.id === \"weather-infoD\") {",
						"                                weatherDusseldorf();",
						"                            } else if (event.action.id === \"crops-info\") {",
						"                                cropsInfoDisplay();",
						"                            }",
						"                        });",
						"                        //Main atributes",
						"                        attributes = {",
						"                            Name: \"Farm 2\",",
						"                            Location: \" Düsseldorf\"",
						"                        };",
						"",
						"                        break;",
						"",
						"",
						"                }",
						"",
						"",
						"                // Create popup template",
						"                var popupTemplate = {",
						"                    title: \"{Name}\",",
						"                    content: \"Location: <b>{Location}</b>\",",
						"                    actions: [weather, crops]",
						"                };",
						"",
						"                //Create the point for farm's locations",
						"                var pointGraphic = new Graphic({",
						"                    geometry: Point,",
						"                    symbol: simpleMarkerSymbol,",
						"                    //*** ADD ***//",
						"                    attributes: attributes,",
						"                    popupTemplate: popupTemplate,",
						"",
						"                });",
						"                //Add Point to the map",
						"                graphicsLayer.add(pointGraphic);",
						"            }",
						"",
						"        });",
						"",
						"    }, 200);",
						"",
						"});"
					],
					"customComponent": false,
					"request": [],
					"response": [],
					"attributes": [],
					"data": []
				}
			]
		},
		{
			"fieldNo": 99998,
			"data": []
		}
	],
	"ver": "22.8.8.114",
	"application": "hackathonweatherstation",
	"title": "Weather Station",
	"description": "",
	"enableFileStorage": false,
	"enableManifest": false,
	"enableStylesheet": true,
	"enableObfuscate": false,
	"onlyRunLaunchpad": false,
	"disabled": false,
	"loadLaunchpadCode": null,
	"loadApplicationCode": null,
	"appType": "C",
	"ui5_m": true,
	"ui5_f": false,
	"ui5_table": false,
	"ui5_tnt": false,
	"ui5_uxap": false,
	"ui5_chart": false,
	"ui5_theme": "sap_belize",
	"ui5_version": "",
	"ui5_language": null,
	"cus_theme": "",
	"css": [
		"==OBJECT STRING==",
		".esri-popup__content img {",
		"    height: 4.3rem;",
		"    margin-left: 15rem;",
		"    margin-top: -4rem;",
		"    position: relative;",
		"    box-sizing: inherit;",
		"}",
		"",
		"",
		"",
		""
	],
	"header": [
		"==OBJECT STRING==",
		"<meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1, user-scalable=no\" />\r",
		"<link rel=\"stylesheet\" href=\"https://js.arcgis.com/4.23/esri/themes/light/main.css\">\r",
		"<script src=\"https://js.arcgis.com/4.23/\"></script>"
	],
	"manifest": "",
	"globalScript": "",
	"deleted": false,
	"libHighchart": false,
	"libHighmap": false,
	"publicAccess": true,
	"ui5_bootstrap": false,
	"ui5_ionic": false,
	"useV2AppHandler": false,
	"compilerTarget": 3,
	"apis": [
		{
			"id": "EDB931F6-7FDA-EC11-B656-A085FCBCB3C7",
			"name": "hackathonWeatherStation-Amsterdam",
			"ver": "22.8.8.95"
		},
		{
			"id": "DE8CEBCD-0EDC-EC11-B656-A085FCBCB3C7",
			"name": "hackathonWeatherStation-Dusseldorf",
			"ver": "22.8.8.95"
		}
	],
	"package": "64E2691F-F916-ED11-BD6E-A085FCBC6CDC"
}